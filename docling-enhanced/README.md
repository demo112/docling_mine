# Docling Enhanced - 增强版文档转换器

这是基于 [Docling](https://github.com/DS4SD/docling) 的增强版本，添加了更好的用户界面和功能。

## 🚀 新增功能

### 界面增强
- ✅ **实时进度显示**: 显示文件转换的实时进度
- ✅ **页面级进度**: 对于PDF文件，显示当前处理页面/总页数
- ✅ **处理时间统计**: 显示每个文件的处理耗时
- ✅ **详细状态信息**: 可展开的处理详情面板
- ✅ **系统状态监控**: 侧边栏显示系统运行状态

### 下载功能
- ✅ **批量下载**: 支持将多个转换文件打包为ZIP下载
- ✅ **单文件下载**: 每个文件独立下载按钮
- ✅ **多格式支持**: 支持Markdown、HTML、JSON、纯文本格式

### 用户体验
- ✅ **错误处理**: 详细的错误信息和故障排除建议
- ✅ **OCR优化提示**: 针对PDF处理的优化建议
- ✅ **快速测试**: 侧边栏快速测试功能
- ✅ **页面刷新**: 解决界面无响应问题的快速刷新

## 📦 安装和运行

### 环境要求
- Python 3.8+
- 依赖包见 `requirements.txt`

### 快速开始

1. **进入项目目录**
   ```bash
   cd docling-enhanced
   ```

2. **安装依赖**
   ```bash
   pip install -r requirements.txt
   ```

3. **运行界面**
   ```bash
   streamlit run docling_ui.py
   ```

4. **访问界面**
   打开浏览器访问: http://localhost:8501

## 🔧 配置选项

### PDF处理选项
- **OCR文字识别**: 对扫描PDF进行文字识别
- **表格结构识别**: 识别和提取表格结构
- **页数限制**: 设置最大处理页数
- **页面范围**: 指定处理的页面范围

### 输出格式
- **Markdown**: 适合文档编辑和版本控制
- **HTML**: 适合网页显示
- **JSON**: 适合程序处理
- **纯文本**: 简单文本输出

## 📊 性能优化

### PDF处理建议
- 对于大文件，建议关闭OCR或设置页数限制
- 扫描质量较差的PDF可能需要更长处理时间
- 表格密集的文档建议启用表格结构识别

### 系统要求
- 推荐内存: 8GB+
- 推荐CPU: 4核心+
- 存储空间: 至少2GB用于模型缓存

## 🐛 故障排除

### 常见问题

1. **界面无响应**
   - 使用侧边栏的"刷新页面"按钮
   - 检查文件大小和OCR设置
   - 查看浏览器控制台错误信息

2. **转换失败**
   - 检查文件格式是否支持
   - 尝试关闭OCR选项
   - 减少页数限制

3. **下载问题**
   - 确保浏览器允许下载
   - 检查文件大小限制
   - 尝试单文件下载而非批量下载

## 📝 更新日志

### v1.0.0 (当前版本)
- 基于原版Docling添加增强界面
- 实现实时进度显示
- 添加页面级进度跟踪
- 优化批量下载功能
- 改进错误处理和用户提示

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目。

## 📄 许可证

本项目基于原版Docling的许可证，请参考原项目许可证。

## 🙏 致谢

感谢 [DS4SD/docling](https://github.com/DS4SD/docling) 项目提供的强大文档转换核心功能。